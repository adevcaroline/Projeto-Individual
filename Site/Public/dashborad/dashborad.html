<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Dashboard Harry Potter</title>
  <link rel="stylesheet" href="dashborard.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- <nav class="sidebar">
    <a href="../dashborad/dashborad.html"><span>⌂</span> Dash</a>
    <a href="../quiz.html"><span>💡</span> Quiz</a>
    <a href="#"><span>👤</span> Perfil</a>
    <a href="#"><span>⚙️</span> Logout</a>
  </nav> -->
<nav class="sidebar">
  <div class="sidebar-top">
    <a href="../dashborad/dashborad.html"><span>⌂</span> Dash</a>
    <a href="../quiz.html"><span>💡</span> Quiz</a>
    <a href="#"><span>👤</span> Perfil</a>
  </div>
  <div class="sidebar-bottom">
    <a href="#"><span>⚙️</span> Logout</a>
  </div>
</nav>
 
  <div class="content">

    <div class="kpi-container">
      <div class="kpi">
        <h2>Total de Participantes</h2>
        <div id="totalParticipantes">...</div>
      </div>
      <div class="kpi">
        <h2>Percentual por Casa</h2>
        <div id="percentuaisPorCasa">...</div>
      </div>
      <div class="kpi">
        <h2>Casa Mais Popular</h2>
        <div id="casaPopular">...</div>
      </div>
    </div>

    <div class="chart-wrapper">
      <canvas id="casaChart"></canvas>
    </div>
  </div>

  <script>
    const casas = ['Grifinória', 'Sonserina', 'Lufa-Lufa', 'Corvinal'];
    const quantidades = [48, 38, 27, 18];
    const total = quantidades.reduce((a, b) => a + b, 0);
    const percentuais = quantidades.map(qtd => ((qtd / total) * 100).toFixed(1) + '%');
    const indexMaisPopular = quantidades.indexOf(Math.max(...quantidades));
    const casaMaisPopular = casas[indexMaisPopular];

    document.getElementById('totalParticipantes').innerText = total;
    document.getElementById('percentuaisPorCasa').innerText = casas.map((casa, i) => `${casa}: ${percentuais[i]}`).join(' | ');
    document.getElementById('casaPopular').innerText = casaMaisPopular;

    const dataCasas = {
      labels: casas,
      datasets: [{
        label: 'Número de pessoas',
        data: quantidades,
        backgroundColor: ['#b70d0d', '#0b6623', '#ffcc00', '#003399'],
        borderRadius: 6
      }]
    };

    const configCasas = {
      type: 'bar',
      data: dataCasas,
      options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
          y: {
            beginAtZero: true,
            title: {
              display: true,
              text: 'Número de pessoas'
            }
          },
          x: {
            title: {
              display: true,
              text: 'Casa'
            }
          }
        }
      }
    };

    const ctx = document.getElementById('casaChart').getContext('2d');
    new Chart(ctx, configCasas);
  </script>

</body>
</html>
